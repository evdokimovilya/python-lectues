## Деплой телеграм бота

Если мы хотим, чтобы телеграм бот мог работать независимо от нашего компьютера - необходимо разместить на сервере. Также надо будет поступать и и с веб-приложениями/сайтами. 

Существует множество провайдеров, позволяющих арендовать у них сервер и разместить там то, что вы хотите. 

В этом туториале мы будем работать с провайдером netangels. 


### 1. Подготовка приложения к деплою 

Для примера нам хватит простого бота, который может отвечать на команду /start

```python
import telebot

API_TOKEN = '7787720175:AAIFOKDJqaRwtjrV1B1wMn0o30'

bot = telebot.TeleBot(API_TOKEN)


@bot.message_handler(commands=['start', 'help'])
def send_welcome(message):
    bot.reply_to(message, "Привет!")

bot.infinity_polling()
```

### 2. Аренда сервера у провайдера. 

1. Зарегистрируйтесь на сайте (netangels)[https://netangels.ru]
2. Положите на счет 200 рублей 
3. Зайдите в раздел "Хостинг" ![фвыа](http://images.na4u.ru/static/bot_deploy/1.png)
4. Добавьте новый контейнер. В этом контейнере можно будет создать несколько сайтов/ботов ![фвыа](http://images.na4u.ru/static/bot_deploy/2.png)
5. Дайте название контейнеру ![фвыа](http://images.na4u.ru/static/bot_deploy/3.png)
6.  Выберите тариф. Для бота хватит базового и 5гб памяти ![фвыа](http://images.na4u.ru/static/bot_deploy/4.png)
7. Создайте сайт в контейнере. ![фвыа](http://images.na4u.ru/static/bot_deploy/6.png) 
8.  Нажмите "подключить тестовый домен". Введите имя для своего сайта. Выберите Python WSGI, нажмите создать сайт ![фвыа](http://images.na4u.ru/static/bot_deploy/5.png)

### Загрузка файлов на сервер

1. Перейдите во вкладку "Файлы"![фвыа](http://images.na4u.ru/static/bot_deploy/7.png)
2. Откроется файловый менеджер. Перейдите в папку app.  ![фвыа](http://images.na4u.ru/static/bot_deploy/8.png)
3. Нажмите "Загрузить файлы" ![фвыа](http://images.na4u.ru/static/bot_deploy/9.png)
4. Выберите файл на компьютере, в итоге он должен появиться в окне для загрузки  ![фвыа](http://images.na4u.ru/static/bot_deploy/10.png)

### Установка библиотек

Для того, чтобы установить библиотеки, надо будет перейти в командую строку. 
1. Откройте вкладку Терминал ![фвыа](http://images.na4u.ru/static/bot_deploy/11.png)
2. Введи команду для установки библиотеки telebot ![фвыа](http://images.na4u.ru/static/bot_deploy/12.png)
 ```
pip install pytelegrambotapi
```
 ![фвыа](http://images.na4u.ru/static/bot_deploy/13.png)

### Запуск фонового процесса

Для того, чтобы бот работал всегда в фоновом режиме, надо добавить специальный фоновый процесс. Это команда для запуска бота, которая будет выполняться всегда, даже если  сервер придется перезапускать.

В нашем случае команда выглядит так

```
python app/simple_bot.py
```

 ![фвыа](http://images.na4u.ru/static/bot_deploy/14.png)
  ![фвыа](http://images.na4u.ru/static/bot_deploy/15.png)

Сохраните, дождитесь изменения статуса
 ![фвыа](http://images.na4u.ru/static/bot_deploy/16.png)

Проверьте работу бота
 ![фвыа](http://images.na4u.ru/static/bot_deploy/17.png)