## Django. Динамические url

Давайте расширим наше приложение возможностью просматривать описание каждой книги в отдельности. Сейчас у нас выводится просто общий список. 

Если в будущем мы будем расширять количество полей для описания -- отображения в виде списка уже не хватит. Нужна отдельная страница. Но какой адрес она должна иметь? 

Обычно, когда вы посещаете сайты в интернете вы видите адреса вида 

- /books/knigа_1 
- /books/knigа_1 
- ...

Но как это реализовать? Можно создавать отдельную функцию и адрес для каждой книги, но это будет слишком громоздко и крайне тяжело в поддержке.

Значит надо использовать какой-то универсальный вариант. Джанга предоставляет такой функционал. Наша задача - спроектировать url, обозначив какая часть в нем является постоянной, а какая меняется. И этот url мы сможем использовать для обработки всех запросов, которые соответствуют этому паттерну. 

Это будет назваться - динамический url. При проектировании динамического url Надо следовать определенному синтаксису. Меняющаяся часть должна быть в скобках <>
Название должно быть внутри с обозначением типа данных.
![фвыа](http://images.na4u.ru/static/django8/1.png)

Если мы принимаем параметр id, то надо указать числовой тип. В нашем случае url будет. 

```
path('books/<int:book_id>', book_detail),
```
![фвыа](http://images.na4u.ru/static/django8/2.png)

Создайте представления для вывода информации о книге. Представления должно принимать два параметра: 
- запрос 
- динамический параметр. В нашем случае book_id 
![фвыа](http://images.na4u.ru/static/django8/3.png)

Используя book_id внутри представления получаем объект книги и передаем его в контексте шаблону. 

В шаблоне просто выведите всю информацию о книге
![фвыа](http://images.na4u.ru/static/django8/4.png)

Проверьте, что при вводе нового url адреса открывается страница с книгой
![фвыа](http://images.na4u.ru/static/django8/5.png)
### Добавление ссылок с динамическими параметрами

Давайте сделаем так, чтобы в списке с книгами были ссылки на их детальное описание. Для этого нам надо вместо обычного текста вставить тэг  `<a></a>`
![фвыа](http://images.na4u.ru/static/django8/6.png)

![фвыа](http://images.na4u.ru/static/django8/7.png)

### Более удобный способ работы с url

Давайте рассмотрим еще один вариант для формирования ссылок. Минусы подхода из предыдущего примера в том, что нам надо контролировать точность написания адреса, следить за синтаксисом. 

Если внутри urls.py изменить адрес, то надо будет идти и также изменять его во всех шаблонах, где он используется. 

Поэтому каждому url адресу можно добавить имя. 
После этого, href можно формировать используя шаблонный тэг url и имя, которое вы указали. В нашем примере еще используется дополнительный параметр, его тоже можно передавать внутри этой конструкции.


![фвыа](http://images.na4u.ru/static/django8/8.png)


![фвыа](http://images.na4u.ru/static/django8/9.png)
